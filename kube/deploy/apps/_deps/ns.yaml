---
apiVersion: v1
kind: Namespace
metadata:
  name: apps
  labels:
    kustomize.toolkit.fluxcd.io/prune: disabled
    pod-security.kubernetes.io/enforce: &ps restricted
    pod-security.kubernetes.io/audit: *ps
    pod-security.kubernetes.io/warn: *ps
---
apiVersion: v1
kind: Namespace
metadata:
  name: &name "${USERS_1_ID:=user}"
  labels:
    user.home.arpa/id: *name
    kustomize.toolkit.fluxcd.io/prune: disabled
    pod-security.kubernetes.io/enforce: &ps restricted
    pod-security.kubernetes.io/audit: *ps
    pod-security.kubernetes.io/warn: *ps
---
apiVersion: v1
kind: Namespace
metadata:
  name: &name "${USERS_2_ID:=user}"
  labels:
    user.home.arpa/id: *name
    kustomize.toolkit.fluxcd.io/prune: disabled
    pod-security.kubernetes.io/enforce: &ps restricted
    pod-security.kubernetes.io/audit: *ps
    pod-security.kubernetes.io/warn: *ps
---
apiVersion: v1
kind: Namespace
metadata:
  name: &name "${USERS_3_ID:=user}"
  labels:
    user.home.arpa/id: *name
    kustomize.toolkit.fluxcd.io/prune: disabled
    pod-security.kubernetes.io/enforce: &ps restricted
    pod-security.kubernetes.io/audit: *ps
    pod-security.kubernetes.io/warn: *ps